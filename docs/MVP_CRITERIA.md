# MVP Criteria — Phase 1

## 0. Общий принцип (инвариант)
MVP считается готовым не когда “что-то работает”, а когда система способна принять воспроизводимое и обоснованное решение GO / NO-GO без ручных интерпретаций, догадок и “давайте ещё попробуем”.

## 1. Discovery — критерии готовности
### 1.1 NEW_TOKEN Discovery
MVP обязан:
- обнаруживать новые токены (pump.fun и аналогичные);
- фиксировать:
  - mint;
  - pool (если есть);
  - tx signature;
  - slot;
  - timestamp;
- присваивать детерминированный candidate_id (hash-based).

Готово, если:
- минимум 300 уникальных токенов обнаружены;
- discovery работает непрерывно ≥7 дней;
- нет дубликатов candidate_id;
- discovery воспроизводим при replay.

### 1.2 ACTIVE_TOKEN Discovery
MVP обязан:
- обнаруживать существующие токены со всплеском активности;
- использовать формальные критерии (volume / swaps / liquidity change);
- классифицировать источник discovery (NEW_TOKEN / ACTIVE_TOKEN).

Готово, если:
- ACTIVE_TOKEN поток даёт кандидатов;
- критерии задокументированы;
- данные сопоставимы с NEW_TOKEN (единый формат).

## 2. Ingestion — критерии готовности
MVP обязан:
- собирать raw on-chain данные:
  - swaps;
  - liquidity events;
  - add/remove liquidity;
- хранить их append-only в PostgreSQL;
- обеспечивать backfill и replay.

Готово, если:
- нет потерь событий за ≥7 дней;
- ingestion выдерживает текущий объём без ручных рестартов;
- любой токен можно replay-нуть полностью.

Недопустимо:
- “частично сохранилось”;
- “не успели догнать”.

## 3. Normalization & Features — критерии готовности
MVP обязан:
- преобразовывать raw-данные в детерминированные таймсерии:
  - price_t;
  - liquidity_t;
  - volume_t;
- считать derived-фичи (дельты, скорости, интервалы);
- иметь задокументированные формулы.

Готово, если:
- любой токен → одинаковый формат данных;
- фичи пересчитываются без потери смысла;
- нет “ручных поправок” или эвристик без формулы.

## 4. Storage & Replay — критерии готовности
MVP обязан:
- использовать:
  - PostgreSQL — raw data (source of truth);
  - ClickHouse — агрегаты и аналитику;
- позволять полный replay анализа.

Готово, если:
- ClickHouse подключён и используется;
- аналитика не читает данные напрямую из RPC;
- любой отчёт можно воспроизвести по данным + версии стратегии.

## 5. Simulation / Backtest — критерии готовности
MVP обязан:
- поддерживать минимум 3 стратегии:
  - Event + Time Exit;
  - Event + Trailing Stop;
  - Event + Liquidity Guard;
- поддерживать execution scenarios:
  - delay;
  - slippage;
  - fee / penalty;
- прогонять стратегии на данных ≥14 дней.

Готово, если:
- симуляции выполняются полностью;
- есть распределения результатов (не single value);
- параметры можно варьировать;
- видно, где результат ломается.

Недопустимо:
- “подкрутили параметры, чтобы стало красиво”.

## 6. Metrics — критерии готовности
MVP обязан считать и показывать:

Обязательные метрики:
- win-rate;
- median outcome;
- distribution (quantiles);
- max drawdown;
- sensitivity к ухудшению условий.

Сравнения:
- NEW_TOKEN vs ACTIVE_TOKEN;
- стратегия vs стратегия.

Готово, если:
- метрики считаются автоматически;
- нет ручной интерпретации;
- данные представлены численно, не “на глаз”.

## 7. Reporting — критерии готовности
MVP обязан:
- формировать финальный отчёт Phase 1;
- содержать:
  - описание данных;
  - метрики;
  - ссылки на replay;
  - версию стратегий.

Готово, если:
- отчёт можно прочитать и понять без автора;
- выводы подтверждены числами;
- отчёт воспроизводим.

## 8. Decision Gate — критерии готовности (КЛЮЧЕВОЕ)
MVP обязан позволять принять одно из решений:

GO — если все условия выполнены:
- ≥5 % токенов показывают положительный outcome;
- результат устойчив к ухудшению условий;
- entry и exit реализуемы realtime;
- результат не держится на выбросах.

NO-GO — если любое выполнено:
- <5 % токенов дают результат;
- median ≤ 0;
- edge исчезает при небольшом ухудшении;
- entry невозможно реализовать честно.

Готово, если:
- решение можно принять без споров;
- решение можно защитить перед CTO;
- решение можно воспроизвести через replay.

## 9. Документация — критерии готовности
В репозитории обязаны быть:
- DECISION_GATE.md
- ROADMAP_PHASE1.md
- STRATEGY_CATALOG.md
- EXECUTION_SCENARIOS.md

Готово, если:
- документы актуальны;
- соответствуют фактической реализации;
- не содержат “TODO для решения”.

## Главный финальный критерий
Если после выполнения MVP нельзя честно сказать
“заработок невозможен при этих условиях” — MVP НЕ ГОТОВ.

Это важнее, чем “можно заработать”.
